# Имя компилятора
CC = gcc

# Флаги компилятора
CFLAGS = -Wall -Wextra -O2 -I.

# Исходные файлы и объектные файлы
SRC = graph.c queue.c
OBJ = $(SRC:.c=.o)

# Имя выходной библиотеки
LIB = libgraph.a

# Цель по умолчанию
all: $(LIB)

# Правило для сборки статической библиотеки
$(LIB): $(OBJ)
	ar rcs $@ $^

# Правило для компиляции исходных файлов в объектные файлы
%.o: %.c
	$(CC) $(CFLAGS) -c $< -o $@

# Правило для очистки промежуточных файлов
clean:
	rm -f $(OBJ) $(LIB)

# Правило для повторной сборки всего проекта
rebuild: clean all

.PHONY: all clean rebuild
